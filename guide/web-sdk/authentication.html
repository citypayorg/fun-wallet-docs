<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authentication | FunWallet Documentation</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/fun-wallet-docs/logo.svg">
    <link rel="manifest" href="/fun-wallet-docs/manifest.json">
    <link rel="apple-touch-icon" href="/fun-wallet-docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/fun-wallet-docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Welcome">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/fun-wallet-docs/assets/css/0.styles.d2ddfb65.css" as="style"><link rel="preload" href="/fun-wallet-docs/assets/js/app.f4c58420.js" as="script"><link rel="preload" href="/fun-wallet-docs/assets/js/2.a0d94ea1.js" as="script"><link rel="preload" href="/fun-wallet-docs/assets/js/30.a813e3d3.js" as="script"><link rel="preload" href="/fun-wallet-docs/assets/js/5.c35ce4c3.js" as="script"><link rel="prefetch" href="/fun-wallet-docs/assets/js/10.3f48a5b8.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/11.80799146.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/12.c9e90c03.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/13.e4a5dcfb.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/14.355eb188.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/15.e12ec460.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/16.5742e3d8.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/17.0fc06e43.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/18.5808ac01.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/19.80a5d59e.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/20.a49817c7.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/21.ce2df6c0.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/22.7612c77c.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/23.1c157430.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/24.04689a5f.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/25.056809c0.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/26.727b7ec0.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/27.065e4d50.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/28.095f1f4b.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/29.1bbd32c9.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/3.115da35b.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/31.2d3f224a.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/32.3fe15494.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/33.4eeb39a4.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/34.6a6d372c.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/35.b6b05392.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/36.afd52f90.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/37.80fac9d7.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/38.9d6c76f1.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/39.7b2ae1e4.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/4.e3251b57.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/40.f92fd921.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/41.553fe969.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/6.28406707.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/7.cf304ae3.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/8.259a090f.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/9.8a11410d.js">
    <link rel="stylesheet" href="/fun-wallet-docs/assets/css/0.styles.d2ddfb65.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fun-wallet-docs/" class="home-link router-link-active"><img src="/fun-wallet-docs/logo.svg" alt="FunWallet Documentation" class="logo"> <span class="site-name can-hide">FunWallet Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fun-wallet-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/funfair-tech/fun-wallet-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fun-wallet-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/funfair-tech/fun-wallet-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Information</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/fun-wallet-docs/guide/information/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/fun-wallet-docs/guide/information/browser-support.html" class="sidebar-link">Browser Support</a></li><li><a href="/fun-wallet-docs/guide/information/testing.html" class="sidebar-link">Our Testing</a></li><li><a href="/fun-wallet-docs/guide/information/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/fun-wallet-docs/guide/information/branding.html" class="sidebar-link">Branding</a></li><li><a href="/fun-wallet-docs/guide/information/kyc.html" class="sidebar-link">KYC</a></li><li><a href="/fun-wallet-docs/guide/information/fiat-gateway.html" class="sidebar-link">Fiat Gateway</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>How Does It Work?</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-authentication-works.html" class="sidebar-link">How Authentication Works?</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/registration.html" class="sidebar-link">Registration</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/login-and-recovery-token-generation.html" class="sidebar-link">Login &amp; Recovery Token Generation</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/recovery.html" class="sidebar-link">Recovery</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/re-authentication.html" class="sidebar-link">Re-authentication</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-is-the-authentication-secure.html" class="sidebar-link">How Is The Authentication Secure?</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-popup-authenticates-leader.html" class="sidebar-link">How The Authenticated Popup Authenticates The Leader ?</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/leader-and-follower-communication.html" class="sidebar-link">Leader And Follower Communication</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-broadcast-works.html" class="sidebar-link">How Broadcast Works?</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/fun-wallet-sdk.html" class="sidebar-link">FunWallet SDK</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/fun-wallet-ethereum-provider.html" class="sidebar-link">FunWallet Ethereum Provider</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/blooms.html" class="sidebar-link">Blooms</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Web SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/web-sdk/installing-sdk.html" class="sidebar-link">Installing FunWallet SDK</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/setting-up-the-sdk-with-project.html" class="sidebar-link">Setting Up The SDK in your Project</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/initialising-the-sdk.html" class="sidebar-link">Initialising The SDK</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/authentication.html" aria-current="page" class="active sidebar-link">Authentication</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fun-wallet-docs/guide/web-sdk/authentication.html#login" class="sidebar-link">Login</a></li><li class="sidebar-sub-header"><a href="/fun-wallet-docs/guide/web-sdk/authentication.html#logout" class="sidebar-link">Logout</a></li><li class="sidebar-sub-header"><a href="/fun-wallet-docs/guide/web-sdk/authentication.html#tolerate-refresh" class="sidebar-link">Tolerate refresh</a></li></ul></li><li><a href="/fun-wallet-docs/guide/web-sdk/wallet-ui.html" class="sidebar-link">Show Wallet UI</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/routing.html" class="sidebar-link">Routing And Deep Linking</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/languages.html" class="sidebar-link">Languages</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/approval-modal.html" class="sidebar-link">Approval Modals</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/ethereum-provider.html" class="sidebar-link">Ethereum Provider</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/sdk-methods.html" class="sidebar-link">SDK Methods</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html" class="sidebar-link">SDK Event Listeners</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h1> <p>It's up to the integration to show the user the login and logout buttons which gives flexibility on designs.</p> <h2 id="login"><a href="#login" class="header-anchor">#</a> Login</h2> <p>Register a click event on the element you want to trigger the wallet login modal.</p> <p>Example:</p> <h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code> <span class="token keyword">import</span> window <span class="token keyword">from</span> <span class="token string">'@funfair/wallet-sdk/window'</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token function">openAuthenticationPopUpWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">openWalletAuthenticationPopUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">openAuthenticationPopUpWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">openWalletAuthenticationPopUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will load a window popup for the user to enter their login details, once logged in it will fire <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#authenticationcompleted">authenticationCompleted</a> which you will need to have registered to so you can listen out for success. If they close the wallet authentication popup it will fire <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#authenticationpopupclosed">authenticationPopUpClosed</a> which you can listen out for if you want to know if that happens.</p> <h2 id="logout"><a href="#logout" class="header-anchor">#</a> Logout</h2> <p>Register a click event on the element you want to trigger the logout of the wallet.</p> <h3 id="typescript-2"><a href="#typescript-2" class="header-anchor">#</a> TypeScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code> <span class="token keyword">import</span> window <span class="token keyword">from</span> <span class="token string">'@funfair/wallet-sdk/window'</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="javascript-2"><a href="#javascript-2" class="header-anchor">#</a> JavaScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will log all the instances out of the wallet. Also if the wallet inactivity time is reached all instances of the wallet will be logged out, which fires a <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#walletinactivityloggedout">walletInactivityLoggedOut</a> event that you should hook onto. This can also fire if a user deletes a device from their approved device screen <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#walletdevicedeletedloggedout">walletDeviceDeletedLoggedOut</a>. If any of these event fires the dapp needs to update its state back to a logged out state.</p> <h2 id="tolerate-refresh"><a href="#tolerate-refresh" class="header-anchor">#</a> Tolerate refresh</h2> <p>As the server never sees the private key and all the decryption of it happens on the client side once you refresh your tab your private key is now not in memory anymore, as we got back to it using data the user entered which again is not on the server like password. We have handled a way to restore authentication on a refresh. You will need to make sure you handle the event listener <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#restoreauthenticationcompleted">restoreAuthenticationCompleted</a> which is documented in the sdk listeners documentation.</p> <p>Read more about how it works <a href="http://localhost:8080/fun-wallet-docs/guide/how-does-it-work/re-authentication.html#double-encrypted-localstorage-setup" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/funfair-tech/fun-wallet-docs/edit/master/packages/docs/dist/guide/web-sdk/authentication.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/27/2020, 2:19:11 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fun-wallet-docs/guide/web-sdk/initialising-the-sdk.html" class="prev">
        Initialising The SDK
      </a></span> <span class="next"><a href="/fun-wallet-docs/guide/web-sdk/wallet-ui.html">
        Show Wallet UI
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/fun-wallet-docs/assets/js/app.f4c58420.js" defer></script><script src="/fun-wallet-docs/assets/js/2.a0d94ea1.js" defer></script><script src="/fun-wallet-docs/assets/js/30.a813e3d3.js" defer></script><script src="/fun-wallet-docs/assets/js/5.c35ce4c3.js" defer></script>
  </body>
</html>
