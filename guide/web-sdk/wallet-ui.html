<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Show Wallet UI | FunWallet Documentation</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="fun-wallet-docslogo.svg">
    <link rel="manifest" href="fun-wallet-docsmanifest.json">
    <link rel="apple-touch-icon" href="fun-wallet-docsicons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="fun-wallet-docsicons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Welcome">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="fun-wallet-docs/assets/css/0.styles.8202249f.css" as="style"><link rel="preload" href="fun-wallet-docs/assets/js/app.e480d63f.js" as="script"><link rel="preload" href="fun-wallet-docs/assets/js/2.df3542b2.js" as="script"><link rel="preload" href="fun-wallet-docs/assets/js/21.7c7cb977.js" as="script"><link rel="preload" href="fun-wallet-docs/assets/js/5.4c5a6809.js" as="script"><link rel="prefetch" href="fun-wallet-docs/assets/js/10.81e3c6ba.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/11.c07b3369.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/12.c8f75d4b.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/13.34acc030.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/14.16863443.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/15.c8e9bfac.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/16.0a60ac1e.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/17.07dbe46f.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/18.362a932c.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/19.7a32c01b.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/20.99b6f13c.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/22.8a9b0de5.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/23.8147783c.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/3.0c702ba4.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/4.df916398.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/6.77c69655.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/7.cf304ae3.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/8.102080d5.js"><link rel="prefetch" href="fun-wallet-docs/assets/js/9.c0147e08.js">
    <link rel="stylesheet" href="fun-wallet-docs/assets/css/0.styles.8202249f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fun-wallet-docs/" class="home-link router-link-active"><img src="fun-wallet-docslogo.svg" alt="FunWallet Documentation" class="logo"> <span class="site-name can-hide">FunWallet Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fun-wallet-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/funfair-tech/fun-wallet-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fun-wallet-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/funfair-tech/fun-wallet-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="show-wallet-ui"><a href="#show-wallet-ui" class="header-anchor">#</a> Show Wallet UI</h1> <p>We call the wallet UI iframe a <code>follower</code>. If you want to read more information about what a <code>follower</code> is please go here.</p> <p>Please paste this html snippet where you want the wallet ui to render on your dapp. This example is using an angular <code>load</code> event but you can register a iframe <code>onload</code> event using JavaScript or how any other framework handle it. So just change that event accordingly to the framework you're using.</p> <p>Due to the ability of deep-linking which is supported out of the box the wallet has to build up your src dynamically (hence the <code>| safe</code> pipe in the example). Again the example is shown in a angular app so change how you handle that accordingly to the framework you're using.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fun-wallet-follower<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">(load)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>yourFollowerInstanceLoadFunction()<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">[src]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>walletUrl | safe<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">is-fun-wallet</span>
  <span class="token attr-name">is-follower</span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>You have to create an <code>safe</code> pipe by using <code>DomSanitizer</code>, this helps preventing Cross Site Scripting Security bugs (XSS) by sanitizing values to be safe to use in the different DOM contexts.</p> <p>https://angular.io/api/platform-browser/DomSanitizer</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Pipe<span class="token punctuation">,</span> PipeTransform <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> DomSanitizer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
@<span class="token function">Pipe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'safe'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SafePipe</span> <span class="token keyword">implements</span> <span class="token class-name">PipeTransform</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> sanitizer<span class="token operator">:</span> DomSanitizer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sanitizer<span class="token punctuation">.</span><span class="token function">bypassSecurityTrustResourceUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-wallet'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./wallet.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./wallet.component.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">WalletComponent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> walletUrl <span class="token operator">=</span> window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span><span class="token function">getWalletFollowerURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">yourFollowerInstanceLoadFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">registerFollowerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Once the follower has been authenticated it will fire an event <a href="#followerauthenticationcompleted"><code>followerAuthenticationCompleted</code></a> letting you know that you can unlock any of the wallet buttons you have disabled. It's best practice to disable any other wallet router buttons when this is authenticating as it can cause a lot of unnecessary requests and sometimes cause race conditions.</p> <h2 id="auto-resizing-of-iframes"><a href="#auto-resizing-of-iframes" class="header-anchor">#</a> Auto-resizing of iframes</h2> <p>As you may know, the parent cannot know the context of the child it has iframed in. This is standard cross-site protection which is a universal principle of Internet security. This means if you don't know the content of the iframe, how do you know the height of it? Well, the good news is you don't need to worry about that, the SDK takes care of this for you and auto-resizes the UI anytime the height changes.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/funfair-tech/fun-wallet-docs/edit/master/packages/docs/dist/guide/web-sdk/wallet-ui.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/26/2020, 3:33:33 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="fun-wallet-docs/assets/js/app.e480d63f.js" defer></script><script src="fun-wallet-docs/assets/js/2.df3542b2.js" defer></script><script src="fun-wallet-docs/assets/js/21.7c7cb977.js" defer></script><script src="fun-wallet-docs/assets/js/5.4c5a6809.js" defer></script>
  </body>
</html>
